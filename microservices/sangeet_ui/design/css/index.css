/* ==========================================================================
   Core / Global Styles
   ========================================================================== */

/* CSS Reset and Root Variables */
/* Resets basic browser styles and defines custom CSS variables for theming */
:root {
  
  --background-color: #0f172a;
  /* Deep navy background */
  --surface-color: #1e293b;
  /* Darker surface color for containers */
  --card-color: #334155;
  /* Card background color */
  --text-primary: #f8fafc;
  /* Primary text color, near white */
  --text-secondary: #94a3b8;
  /* Secondary text color, grayish */
  --accent-gradient: linear-gradient(135deg, #4f46e5, #818cf8);
  /* Gradient for accent elements */
  --error-color: #ef4444;
  /* Error message color, red */
  --primary-light: #818cf8;
  /* Lighter shade of primary accent color */
  --marquee-speed: 14s;
  /* Speed for marquee animation */
  /* Gradient for Music Icons */
  --icon-music-gradient: linear-gradient(45deg, #ff66cc, #cc66ff, #66ccff, #66ffcc);
}

/* Light Theme Icon Override (Example - Was present in original) */
[data-theme="light"] {
  --icon-music-gradient: linear-gradient(45deg, #ffb3d9, #d9b3ff, #b3d9ff, #b3ffd9);
}

/* Global Styles */
/* Styles applied to the entire body and general layout */
body {
  margin: 0;
  /* Reset default body margin */
  font-family: sans-serif;
  /* Use sans-serif as the default font */
  background-color: var(--background-color);
  /* Set body background color from root variable */
  color: var(--text-primary);
  /* Set default text color from root variable */
  min-height: 100vh;
  /* Ensure body takes at least full viewport height */
  /* Subtle radial gradients for background texture */
  background-image:
    radial-gradient(circle at 15% 50%, rgba(78, 70, 229, 0.527) 0%, transparent 25%),
    radial-gradient(circle at 85% 30%, rgba(129, 140, 248, 0.1) 0%, transparent 25%);
}

/* Container Styles */
/* Styles for the main content container to limit width and center content */
.container {
  max-width: 1200px;
  /* Maximum width of the container */
  margin: 0 auto;
  /* Center the container horizontally */
  padding: 1rem 2rem 5rem;
  /* Padding around the container (top, horizontal, bottom) */
  /* Ensure container spacing remains consistent with sticky search bar */
  padding-top: 0;
  /* Remove top padding to accommodate sticky search bar */
}

/* Material Icons Base Style (with Gradient) */
.material-icons {
  background: var(--icon-music-gradient);
  background-size: 200% 200%;
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  animation: musicFlow 6s ease-in-out infinite;
  transition: transform 0.2s ease;
}


/* ==========================================================================
   Search Component
   ========================================================================== */

/* Search Container Styles */
/* Styles for the search bar area, including input and icons */

.search-icons {
  position: absolute;
  /* Position icons to the right of the input */
  right: 1rem;
  /* Distance from the right edge of the search container */
  top: 50%;
  /* Vertically center the icons */
  transform: translateY(-50%);
  /* Adjust vertical centering precisely */
  display: flex;
  /* Use flexbox for spacing icons */
  align-items: center;
  /* Vertically align icons */
  gap: 0.75rem;
  /* Spacing between icons */
  z-index: 10;
  /* Ensure icons are above the input field */
}
/* ========================================================= */
/* CSS for Animated Music-Themed Search Input (.search-input) */
/* ========================================================= */

/* --- 1. Required CSS Variables (Define in your :root or here) --- */
:root {
  /* Using example values - replace with your actual theme variables if needed */
  --surface-color: #1a1a2e;
  --text-primary: #e0e0fc;
  --music-border-gradient: linear-gradient(
    90deg,
    #fa00ff, #00e5ff, #faff00, #00ff87, #ff0073, #fa00ff
  );
  --music-glow-color-center: rgba(0, 229, 255, 0.6);
  --music-glow-color-outer: rgba(250, 0, 255, 0);
  --beat-duration: 1.0s;
}

/* --- 2. Required Keyframe Animations --- */

/* Animation for the border gradient flow */
@keyframes flow-gradient-fast {
  0% { background-position: 0% 50%; }
  100% { background-position: 300% 50%; } /* Adjust percentage for speed/repetition */
}

/* Animation for the main 'beat' (pulsing glow) */
@keyframes music-beat-glow {
  0%, 100% { /* Rest state */
    transform: scale(1);
    opacity: 0.6;
    filter: blur(15px);
  }
  50% { /* Peak of the beat */
    transform: scale(1.15); /* Expand */
    opacity: 0.9;          /* Brighter */
    filter: blur(20px);    /* More diffused */
  }
  75% { /* Slightly faster decay */
      transform: scale(1.05);
      opacity: 0.7;
      filter: blur(18px);
  }
}

/* Optional: Subtle pulse for the border itself */
@keyframes music-beat-border {
  0%, 100% { opacity: 1; }
  50% { opacity: 0.85; } /* Slightly dim on the beat */
}

/* --- 3. Style the Input Element (using CLASS) and Pseudo-elements --- */
/* (Updated based on previous discussion - removed negative z-index) */

.search-input {
  /* Base Styles */
  width: 100%; /* Or set a specific max-width if needed */
  box-sizing: border-box; /* Recommended for easier sizing with padding */
  padding: 1rem 6rem 1rem 1rem; /* Your padding: T R B L */
  font-size: 1rem;
  color: var(--text-primary);
  background-color: var(--surface-color); /* Ensure this is opaque */
  border-radius: 20px;
  border: none; /* Remove default border */
  outline: none; /* Remove default focus outline */

  /* Positioning Context */
  position: relative; /* Needed for pseudo-elements */
  /* z-index: 1; */ /* Not strictly needed if children don't use negative z-index */

  /* Transitions for non-animation properties (if any added later) */
  transition: all 0.3s ease;
}

/* ::BEFORE - The Multicolor Border Strip */
.search-input::before {
  content: '';
  position: absolute;
  inset: -3px; /* 3px border thickness - adjust if needed */
  /* z-index: -1; */ /* REMOVED - Rely on natural stacking */
  border-radius: inherit; /* Match input rounding */
  pointer-events: none; /* Prevent interference with input interaction */

  /* Gradient and flow animation */
  background: var(--music-border-gradient);
  background-size: 300% 100%; /* Makes the gradient wider for smooth flow */
  animation:
    flow-gradient-fast 4s linear infinite, /* Color flow animation */
    music-beat-border var(--beat-duration) ease-in-out infinite; /* Subtle border pulse animation */
}

/* ::AFTER - The Pulsating Background Glow/Shadow */
.search-input::after {
  content: '';
  position: absolute;
  /* Make it larger than the border */
  inset: -10px; /* Adjust size of glow area */
  /* z-index: -2; */ /* REMOVED - Rely on natural stacking */
  border-radius: inherit; /* Match input rounding */
  pointer-events: none; /* Prevent interference with input interaction */

  /* The radial gradient for the glow effect */
  background: radial-gradient(
    ellipse at center,
    var(--music-glow-color-center) 0%,
    var(--music-glow-color-outer) 70%
  );

  /* Initial state & main beat animation */
  opacity: 0.6; /* Start opacity */
  transform: scale(1); /* Start scale */
  filter: blur(15px); /* Initial blur */
  animation: music-beat-glow var(--beat-duration) ease-in-out infinite; /* Main beat animation */
}

/* --- 4. Focus State Enhancement (Optional) --- */
.search-input:focus {
  /* Example: Add a subtle lift effect */
  /* transform: translateY(-2px); */
  /* You could add a simple box-shadow here too if desired, */
  /* but the animated glow handles the main effect */
  /* box-shadow: 0 8px 25px rgba(0, 0, 0, 0.3); */
}

/* Make the glow stronger or faster on focus */
.search-input:focus::after {
  /* Speed up the beat animation */
  animation-duration: calc(var(--beat-duration) * 0.7);
  /* Example: Make the glow slightly more intense */
  /* filter: blur(25px); */
}

/* Speed up the border pulse on focus */
.search-input:focus::before {
   /* Important: Re-declare *all* animations when changing one part */
    animation:
        flow-gradient-fast 4s linear infinite, /* Keep flow the same */
        music-beat-border calc(var(--beat-duration) * 0.7) ease-in-out infinite; /* Speed up pulse */
}

/* --- 5. Placeholder Styling (Optional) --- */
.search-input::placeholder {
    color: var(--text-primary);
    opacity: 0.6; /* Make placeholder slightly dimmer */
    font-style: italic;
}

/* ================= End Search Input CSS ================= */

.search-icon {
  cursor: pointer;
  /* Indicate icon is clickable */
  color: var(--text-secondary);
  /* Icon color from root variables */
  transition: all 0.3s ease;
  /* Smooth transition for hover effects */
  padding: 8px;
  /* Padding around the icon for touch target */
  border-radius: 50%;
  /* Make icon background circular on hover */
  display: flex;
  /* Use flexbox to center icon content */
  align-items: center;
  /* Center icon vertically */
  justify-content: center;
  /* Center icon horizontally */
  -webkit-tap-highlight-color: transparent;
  /* Remove tap highlight on mobile */
}

.search-icon:hover {
  
  transform:scale(1.2)
}

.search-icon.listening {
  color: var(--primary-light);
  /* Highlight color when listening */
  animation: pulse 1.5s infinite;
  /* Pulse animation when listening */
}

.broom-icon {
  display: none;
  /* Initially hidden, shown when search input has content */
}

/* Search Icon Specific Material Icon Override */
.search-icon .material-icons {
  background: none;
  /* Remove gradient */
  -webkit-text-fill-color: var(--text-secondary);
  /* Use standard text color */
  animation: none;
  /* Remove flow animation */
}

.search-icon:hover .material-icons {
  -webkit-text-fill-color: var(--text-primary);
  /* Change color on hover */
}

.search-icon.listening .material-icons {
  /* Re-apply gradient when listening */
  background: var(--icon-music-gradient);
  background-size: 200% 200%;
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  /* Keep pulse animation, re-add music flow */
  animation: pulse 1.5s infinite, musicFlow 6s ease-in-out infinite;
}


/* ==========================================================================
   Results / Song Cards
   ========================================================================== */

/* Results Container Styles */
/* Styles for the grid container that holds song cards */



/* .song-info defined multiple times, using the LATER definitions found within .artist-overview-container */
/* Original .song-info definition (potentially overridden later) */
/*
.song-info {
  padding: 0.5rem 1rem;
}
*/
/* Base Song Card Styling with Improved Responsiveness */
.results-container {
  display: grid !important;
  width: 100% !important;
  max-width: 1400px !important;
  /* margin: 0 auto !important; */
  padding: 16px !important;
  box-sizing: border-box !important;
  gap: 16px !important;
  grid-template-columns: repeat(auto-fill, minmax(140px, 1fr)) !important;
  margin-bottom: 40%;
}


@media screen and (max-width: 1440px) {

  .results-container {
    margin-bottom: 8% !important;
  }

}

@media screen and (max-width: 1024px) {

  .results-container {
    margin-bottom: 14% !important;
  }

}

@media screen and (max-width: 768px) {

  .results-container {
    margin-bottom: 14% !important;
  }

}
@media screen and (max-width: 425px) {

  .results-container {
    margin-bottom: 50% !important;
  }

}
@media screen and (max-width: 375px) {

  .results-container {
    margin-bottom: 44% !important;
  }

}
.song-card {
  position: relative !important;
  display: flex !important;
  flex-direction: column !important;
  height: auto !important;
  /* Dynamic height */
  min-height: 210px !important;
  border-radius: 12px !important;
  overflow: hidden !important;
  background: linear-gradient(145deg, #323546, #252736) !important;
  box-shadow: 0 4px 10px rgba(0, 0, 0, 0.3) !important;
  transition: all 0.2s ease !important;
  cursor: pointer !important;
  width: 100% !important;
  /* Full width of grid cell */
}

/* Music texture background pattern */
.song-card::before {
  content: "" !important;
  position: absolute !important;
  top: 0 !important;
  left: 0 !important;
  width: 100% !important;
  height: 100% !important;
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='80' height='80' viewBox='0 0 80 80'%3E%3Cpath d='M20,10 Q30,5 40,15 T60,10 M20,30 Q30,25 40,35 T60,30 M20,50 Q30,45 40,55 T60,50' stroke='rgba(255,255,255,0.04)' fill='none' stroke-width='1'/%3E%3C/svg%3E") !important;
  background-size: 40px !important;
  opacity: 0.7 !important;
  pointer-events: none !important;
  z-index: 1 !important;
}

.song-thumbnail-container {
  position: relative !important;
  width: 100% !important;
  padding-top: 100% !important;
  /* Maintain 1:1 aspect ratio */
  overflow: hidden !important;
}

.song-thumbnail-container img {
  object-fit: cover !important;
}

.song-thumbnail {
  position: absolute !important;
  top: 0 !important;
  left: 0 !important;
  width: 100% !important;
  height: 100% !important;
  object-fit: cover !important;
  object-position: center !important;
  transition: transform 0.4s ease !important;
  z-index: 2 !important;
}

.song-info {
  padding: 12px 10px !important;
  text-align: center !important;
  flex-grow: 1 !important;
  display: flex !important;
  flex-direction: column !important;
  justify-content: center !important;
  align-items: center !important;
  background: rgba(20, 20, 30, 0.6) !important;
  position: relative !important;
  z-index: 2 !important;
}

.song-title {
  font-family: 'Poppins', sans-serif !important;
  font-weight: 600 !important;
  font-size: 13px !important;
  margin-bottom: 4px !important;
  color: #ffffff !important;
  max-height: 34px !important;
  overflow: hidden !important;
  text-overflow: ellipsis !important;
  display: -webkit-box !important;
  -webkit-line-clamp: 2 !important;
  -webkit-box-orient: vertical !important;
  width: 100% !important;
  letter-spacing: 0.3px !important;
}

.song-artist {
  font-family: 'Poppins', sans-serif !important;
  font-size: 11px !important;
  color: rgba(255, 255, 255, 0.7) !important;
  max-height: 15px !important;
  overflow: hidden !important;
  text-overflow: ellipsis !important;
  white-space: nowrap !important;
  width: 100% !important;
  letter-spacing: 0.2px !important;
}

/* Song duration display */
.song-duration {
  position: absolute !important;
  bottom: 8px !important;
  right: 8px !important;
  background: rgba(0, 0, 0, 0.7) !important;
  color: white !important;
  padding: 2px 6px !important;
  border-radius: 8px !important;
  font-size: 10px !important;
  font-weight: 500 !important;
  z-index: 3 !important;
}

/* Hover effects with music theme */
.song-card:hover {
  transform: translateY(-3px) !important;
  box-shadow: 0 6px 15px rgba(79, 70, 229, 0.3) !important;
}

.song-card:hover .song-thumbnail {
  transform: scale(1.08) !important;
}

/* Playback indicator for currently playing song */
.song-card .playback-indicator {
  position: absolute !important;
  bottom: 8px !important;
  right: 8px !important;
  display: none !important;
  align-items: flex-end !important;
  height: 14px !important;
  gap: 2px !important;
  z-index: 4 !important;
}

.song-card.playing .playback-indicator {
  display: flex !important;
}

.playback-bar {
  width: 2.5px !important;
  background: #818cf8 !important;
  border-radius: 1px !important;
  animation: sound-wave 1.2s infinite ease-in-out !important;
}

.playback-bar:nth-child(1) {
  height: 6px !important;
  animation-delay: 0s !important;
}

.playback-bar:nth-child(2) {
  height: 10px !important;
  animation-delay: 0.2s !important;
}

.playback-bar:nth-child(3) {
  height: 6px !important;
  animation-delay: 0.4s !important;
}

.playback-bar:nth-child(4) {
  height: 8px !important;
  animation-delay: 0.6s !important;
}

@keyframes sound-wave {

  0%,
  100% {
    transform: scaleY(0.6);
  }

  50% {
    transform: scaleY(1);
  }
}

/* Media Queries for Responsive Design */
/* Small mobile devices (up to 576px) */
@media screen and (max-width: 576px) {
  .results-container {
    grid-template-columns: repeat(2, 1fr) !important;
    gap: 12px !important;
    padding: 12px !important;
  }

  .song-title {
    font-size: 12px !important;
    -webkit-line-clamp: 2 !important;
    max-height: 32px !important;
  }

  .song-artist {
    font-size: 10px !important;
  }

  .song-card {
    min-height: 190px !important;
  }
}

/* Medium devices (tablets, 577px to 768px) */
@media screen and (min-width: 577px) and (max-width: 768px) {
  .results-container {
    grid-template-columns: repeat(3, 1fr) !important;
    gap: 14px !important;
  }

  .song-card {
    min-height: 200px !important;
  }
}

/* Large devices (laptops/desktops, 769px to 992px) */
@media screen and (min-width: 769px) and (max-width: 992px) {
  .results-container {
    grid-template-columns: repeat(4, 1fr) !important;
    gap: 16px !important;
  }

  .song-title {
    font-size: 13px !important;
  }
}

/* Extra large devices (large desktops, 993px to 1200px) */
@media screen and (min-width: 993px) and (max-width: 1200px) {
  .results-container {
    grid-template-columns: repeat(5, 1fr) !important;
    gap: 18px !important;
  }
}

/* XXL devices (1201px and up) */
@media screen and (min-width: 1201px) and (max-width: 1400px) {
  .results-container {
    grid-template-columns: repeat(6, 1fr) !important;
    gap: 20px !important;
  }
}

/* Ultra wide screens (1401px and up) */
@media screen and (min-width: 1401px) {
  .results-container {
    grid-template-columns: repeat(7, 1fr) !important;
    gap: 22px !important;
    max-width: 1600px !important;
  }
}

/* Additional improvements for container layout */
.container {
  width: 100% !important;
  max-width: 1600px !important;
  margin: 0 auto !important;
  padding: 0 !important;
  box-sizing: border-box !important;
  overflow-x: hidden !important;
}

/* Make search container fixed and floating */
.search-container {
  position: fixed;
  /* Fix relative to viewport */
  top: 1rem;
  /* Spacing from the top of the window (adjust as needed) */
  left: 50%;
  /* Start at the horizontal center */
  transform: translateX(-50%);
  /* Pull back by half its width to truly center */
  z-index: 100;
  /* High z-index to ensure it floats above other content */
  background: rgba(30, 41, 59, 0.9);
  /* Semi-transparent background for floating effect */
  backdrop-filter: blur(10px);
  /* Optional: Blur effect for background */
  max-width: 700px;
  /* Constrain maximum width */
  width: calc(100% - 4rem);
  /* Responsive width, leaving some space on sides */
  padding: 0;
  /* Remove container padding, input handles its own */
  border-radius: 50px;
  /* Keep the rounded look */
  display: flex;
  /* Keep flex for alignment */
  align-items: center;
  /* Keep alignment */
  box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);
  /* Slightly stronger shadow */
  /* NOTE: Removed margin: auto; as centering is done via left/transform */
}

/* Add padding to the top of the main container to prevent initial overlap */
.container {
  /* Calculate required padding: search-container height + desired gap */
  /* Approx height: 16px (top offset) + 32px (input padding) + ~20px (line-height) = ~68px */
  /* Let's add a good gap: 68px + 24px = 92px */
  padding-top: 100px !important;
  /* Adjust this value as needed */
}

/* Ensure results container doesn't have extra top margin/padding */
.results-container {
  margin-top: 0 !important;
  padding-top: 0 !important;
}

/* Adjust fixed search bar for smaller screens */
@media (max-width: 768px) {
  .search-container {
    width: calc(100% - 2rem);
    /* More width on smaller screens */
    top: 0.5rem;
    /* Closer to the top */
  }

  .container {
    padding-top: 90px !important;
    /* Adjust padding if search bar height changes */
  }
}

/* Remove previous media query adjustments for search-container margin */
@media (min-width: 577px) and (max-width: 992px) {
  .search-container {
    /* No margin-bottom needed for fixed */
  }
}

@media (min-width: 993px) {
  .search-container {
    /* No margin-bottom needed for fixed */
  }
}

/* Container padding adjustments */
.container {
  padding-top: 16px !important;
}

/* Results container spacing adjustments */
.results-container {
  padding-top: 12px !important;
  margin-top: 16% !important;
}

/* Device-specific spacing adjustments */
@media (max-width: 576px) {
  .search-container {
    margin-bottom: 16px !important;
    padding: 12px 0 !important;
  }
}

@media (min-width: 577px) and (max-width: 992px) {
  .search-container {
    margin-bottom: 20px !important;
  }
}

@media (min-width: 993px) {
  .search-container {
    margin-bottom: 28px !important;
  }
}



/* ==========================================================================
   Skeleton Loading
   ========================================================================== */

.skeleton {
  background: linear-gradient(
      /* Gradient for shimmer effect */
      90deg,
      var(--surface-color) 25%,
      var(--card-color) 50%,
      var(--surface-color) 75%);
  background-size: 200% 100%;
  /* Double size for animation effect */
  animation: shimmer 1.5s infinite;
  /* Apply shimmer animation infinitely */
  height: 200px;
  /* Fixed height for skeleton placeholders */
}

/* Skeleton for Progress Bar */
.progress-skeleton {
  position: absolute;
  /* Overlay skeleton over progress bar */
  left: 0;
  top: 0;
  width: 100%;
  height: 100%;
  background: linear-gradient(90deg, var(--surface-color) 25%, var(--card-color) 50%, var(--surface-color) 75%);
  /* Shimmer gradient */
  background-size: 200% 100%;
  /* Size for shimmer animation */
  animation: shimmer 1.5s infinite;
  /* Apply shimmer animation infinitely */
  opacity: 0;
  /* Initially hidden */
  pointer-events: none;
  /* Ensure it doesn't block interactions */
  transition: opacity 0.3s;
  /* Smooth opacity transition */
}

/* Skeleton for Playlist Loading */
.skeleton-loading {
  background: #eee;
  border-radius: 4px;
  animation: pulse 1.5s infinite;
  /* Pulsing animation */
}


/* ==========================================================================
   Mini Player
   ========================================================================== */

.mini-player {
  position: fixed;
  /* Fixed position at the bottom */
  bottom: 0;
  left: 0;
  right: 0;
  background: rgba(30, 41, 59, 0.804); /*#backup rgba(30, 41, 59, 0.95);/*
  /* Semi-transparent background */
  border-top: 1px solid rgba(255, 255, 255, 0.1);
  /* Top border for separation */
  z-index: 50;
  /* Ensure it's above most content */
  transition: 0.3s;
  /* Smooth transition for show/hide animation */
  display: flex;
  /* Use flexbox for layout */
  align-items: center;
  /* Vertically align items in the flex container */
  gap: 1rem;
  /* Spacing between mini player sections */
  padding: 0.5rem 1rem;
  /* Padding inside mini player */
  flex-wrap: wrap;
  /* Allow content to wrap on smaller screens */
}

.mini-player.hidden {
  transform: translateY(100%);
  /* Slide out animation when hidden */
}

.mini-player-info {
  display: flex;
  /* Use flexbox for thumbnail and text alignment */
  align-items: center;
  /* Vertically align thumbnail and text */
  gap: 0.75rem;
  /* Spacing between thumbnail and text */
  min-width: 0;
  /* Prevent content overflow */
  flex: 1;
  /* Allow info section to grow and take available space */
  max-width: 260px;
  /* Maximum width of info section */
}

.mini-player-thumb {
  width: 48px;
  /* Fixed width for thumbnail */
  height: 48px;
  /* Fixed height for thumbnail */
  border-radius: 8px;
  /* Rounded corners for thumbnail */
  object-fit: cover;
  /* Ensure thumbnail covers the area */
}

.mini-player-text {
  overflow: hidden;
  /* Hide overflow text */
  display: flex;
  /* Use flexbox for title and artist layout */
  flex-direction: column;
  /* Stack title and artist vertically */
  justify-content: center;
  /* Vertically center text content */
  min-width: 0;
  /* Prevent content overflow */
}

.mini-player-title {
  font-weight: 600;
  /* Bold title text */
  font-size: 0.9rem;
  /* Title font size */
  white-space: nowrap;
  /* Prevent text wrapping */
  overflow: hidden;
  /* Hide overflow text */
  text-overflow: ellipsis;
  /* Show ellipsis for overflow text */
}

.mini-player-artist {
  font-size: 0.8rem;
  /* Artist name font size */
  color: var(--text-secondary);
  /* Artist name color from root variables */
  white-space: nowrap;
  /* Prevent text wrapping */
  overflow: hidden;
  /* Hide overflow text */
  text-overflow: ellipsis;
  /* Show ellipsis for overflow text */
}


/* ==========================================================================
   Full Player
   ========================================================================== */

.full-player {
  position: fixed;
  inset: 0;
  background: rgba(30, 41, 59, 0.858);
  z-index: 100;
  display: flex;
  flex-direction: column;
  transform: translateY(100%);
  opacity: 0;
  transition: transform 0.4s ease, opacity 0.4s ease;
}

.full-player.active {
  transform: translateY(0);
  opacity: 1;
}

/* Sticky Header within Full Player */
.full-player-sticky {
  position: sticky;
  top: 0;
  z-index: 10;
  background: linear-gradient(to bottom, var(--background-color), rgba(15, 23, 42, 0.9));
  padding: 1rem 2rem;
  border-bottom: 1px solid rgba(255, 255, 255, 0.15);
  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
}

/* Legacy Full Player Header (likely overridden by sticky) */
.full-player-header {
  display: flex;
  /* Use flexbox for header content */
  align-items: center;
  /* Vertically align header items */
  justify-content: space-between;
  /* Space out header items */
  padding: 1rem;
  /* Padding in header */
  border-bottom: 1px solid rgba(255, 255, 255, 0.1);
  /* Bottom border for header */
}

/* Scrollable Area */
.full-player-scrollable {
  flex: 1;
  overflow-y: auto;
  padding: 2rem;
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 2.5rem;
}

.full-player-scrollable::-webkit-scrollbar {
  width: 8px;
}

.full-player-scrollable::-webkit-scrollbar-thumb {
  background: var(--primary-light);
  border-radius: 4px;
}

.full-player-scrollable::-webkit-scrollbar-track {
  background: rgba(255, 255, 255, 0.1);
}

/* Main Content Area within Scrollable */
.full-player-main {
  width: 100%;
  max-width: 800px;
  margin: 0 auto;
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 1.5rem;
}

/* Legacy Content Wrapper (potentially overridden by scrollable structure) */
.full-player-content {
  flex: 1;
  overflow-y: auto;
  padding: 2rem;
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 2rem;
}

/* Album Art */
.full-player-art {
  width: 100%;
  /* Art width */
  max-width: 400px;
  /* Maximum art width */
  aspect-ratio: 1;
  /* Maintain 1:1 aspect ratio for art */
  border-radius: 24px;
  /* Rounded corners for art */
  overflow: hidden;
  /* Clip image to rounded corners */
  box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
  /* Shadow for art */
  transition: transform 0.3s ease;
  /* Smooth transform on hover */
}

.full-player-art:hover {
  transform: scale(1.02);
  /* Scale up slightly on hover */
}

.full-player-art img {
  width: 100%;
  /* Image takes full width of container */
  height: 100%;
  /* Image takes full height of container */
  object-fit: cover;
  /* Ensure image covers the area */
}

/* Song Info */
.full-player-info {
  width: 100%;
  /* Info width */
  text-align: center;
  /* Center text in info section */
  display: flex;
  /* Use flexbox for info layout */
  flex-direction: column;
  /* Stack info elements vertically */
  align-items: center;
  /* Center info elements horizontally */
  gap: 1.5rem;
  /* Spacing between info elements */
}

/* Marquee Effect */
.marquee {
  white-space: nowrap;
  /* Prevent text wrapping */
  overflow: hidden;
  /* Hide overflow text */
  position: relative;
  /* Position relative to contain scrolling text */
  width: 100%;
  /* Marquee width */
  max-width: 600px;
  /* Maximum marquee width */
  margin: 0 auto;
  /* Center marquee horizontally */
}

.marquee span {
  display: inline-block;
  /* Ensure inline for continuous scroll */
  animation: marquee var(--marquee-speed) linear infinite;
  /* Apply marquee animation infinitely */
  padding-left: 100%;
  /* Start text from outside the visible area */
}

.marquee span:hover {
  animation-play-state: paused;
  /* Pause animation on hover */
}

.full-player-title {
  font-size: 2rem;
  /* Title font size in full player */
  font-weight: 700;
  /* Bold title text */
  margin-bottom: 0.5rem;
  /* Spacing below title */
  line-height: 1.2;
  /* Adjust line height for better readability */
}

.full-player-artist {
  font-size: 1.25rem;
  /* Artist name font size in full player */
  color: var(--text-secondary);
  /* Artist name color from root variables */
  margin-bottom: 1rem;
  /* Spacing below artist name */
}


/* ==========================================================================
   Player Controls (Shared Mini/Full)
   ========================================================================== */

.player-controls {
  display: flex;
  /* Use flexbox for control button layout */
  align-items: center;
  /* Vertically align control buttons */
  gap: 0.5rem;
  /* Spacing between control buttons */
}

.control-button {
  width: 36px;
  /* Default button width */
  height: 36px;
  /* Default button height */
  border: none;
  /* Remove default button border */
  border-radius: 50%;
  /* Make buttons circular */
  background: none;
  /* No background color, uses hover effect */
  color: var(--text-primary);
  /* Icon color from root variables */
  cursor: pointer;
  /* Indicate button is clickable */
  display: flex;
  /* Use flexbox to center icon */
  align-items: center;
  /* Center icon vertically */
  justify-content: center;
  /* Center icon horizontally */
  transition: 0.2s;
  /* Smooth transition for hover effects */
  flex-shrink: 0;
  /* Prevent buttons from shrinking */
}

.control-button:hover {
  background: rgba(255, 255, 255, 0.1);
  /* Background on hover */
  transform: scale(1.1);
  /* Scale up slightly on hover */
}

.control-button.play-pause {
  width: 48px;
  /* Larger width for play/pause button */
  height: 48px;
  /* Larger height for play/pause button */
  background: var(--accent-gradient);
  /* Gradient background for play/pause */
}

.control-button.play-pause:hover {
  transform: scale(1.15);
  /* Scale up more on hover for play/pause */
  box-shadow: 0 0 12px rgba(79, 70, 229, 0.4);
  /* Add shadow on hover */
}

/* Control Button Icon Style Override */
.control-button .material-icons {
  background: var(--icon-music-gradient);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  animation: musicFlow 6s ease-in-out infinite;
  /* Keep animation */
}

.control-button:hover .material-icons {
  transform: scale(1.1);
  /* Scale icon slightly on button hover */
}


/* ==========================================================================
   Progress Bar (Shared Mini/Full)
   ========================================================================== */

.progress-container {
  flex-grow: 2;
  /* Allow progress container to expand */
  position: relative;
  /* Position relative to overlay hover area */
  padding: 1rem 0;
  /* Increased padding for touch target */
  cursor: pointer;
  /* Indicate container is interactive */
  min-width: 200px;
  /* Minimum width for progress bar */
  max-width: 600px;
  /* Maximum width for progress bar */
  touch-action: none;
  /* Prevent default touch actions, improving responsiveness */
}

.progress-container:hover .progress-bar {
  height: 6px;
  /* Increase progress bar height on hover */
}

.progress-container:hover .progress-hover {
  opacity: 1;
  /* Show hover indicator on container hover */
}

/* Enhanced Progress Bar Styles */
.progress-bar {
  height: 12px;
  /* Increased default height */
  background: rgba(255, 255, 255, 0.1);
  /* Background color for progress bar track */
  border-radius: 6px;
  /* Increased border radius */
  overflow: hidden;
  /* Clip progress indicator within bounds */
  position: relative;
  /* Position relative for progress indicator */
  transition: height 0.2s ease;
  /* Smooth height transition on hover */
}

/* Active Progress Indicator Styles */
.progress {
  position: absolute;
  /* Position progress indicator inside progress bar */
  left: 0;
  top: 0;
  height: 100%;
  /* Fill progress bar height */
  background: var(--accent-gradient);
  /* Gradient color for progress */
  border-radius: inherit;
  /* Inherit border radius from progress bar */
  transition: width 0.1s linear;
  /* Smooth width transition */
}

/* Enhanced Touch Area Styles */
.progress-hover {
  position: absolute;
  /* Overlay hover area */
  left: 0;
  top: -10px;
  /* Extend touch area above */
  height: calc(100% + 20px);
  /* Extend touch area below */
  background: rgba(255, 255, 255, 0.2);
  /* Visual feedback for touch area */
  opacity: 0;
  /* Initially hidden */
  transition: 0.2s;
  /* Smooth opacity transition */
}

/* Time Indicator Styles */
.time-indicator {
  display: flex;
  /* Use flexbox for time layout */
  justify-content: space-between;
  /* Space out current and total time */
  color: var(--text-secondary);
  /* Time text color from root variables */
  font-size: 0.85rem;
  /* Slightly larger font size for time */
  margin-top: 0.5rem;
  /* Top margin above time indicator */
  pointer-events: none;
  /* Prevent time indicator from interfering with progress bar clicks */
}

/* ==========================================================================
   Enhanced Volume Control (Mini Player) - Smooth & Touch Friendly
   ========================================================================== */

.volume-control {
  display: flex;
  align-items: center;
  gap: 0.75rem;
  /* Slightly increased gap */
  border-left: 1px solid rgba(255, 255, 255, 0.1);
  padding-left: 1rem;
  flex-shrink: 0;
  position: relative;
  /* Needed for potential tooltips */
}

/* Style the volume button (speaker icon) */
#volumeButton {
  /* Inherits .control-button styles (circular, hover effect) */
  /* Ensure transition is smooth if not already defined in .control-button */
  transition: transform 0.2s ease, background-color 0.2s ease;
}

#volumeButton .material-icons {
  /* Ensure smooth color/gradient transition if possible */
  transition: color 0.2s ease, background 0.2s ease;
  /* Override default icon gradient if needed for specific states */
}

/* --- Volume Slider Enhancements --- */

.volume-slider {
  /* Reset Appearance for Custom Styling */
  -webkit-appearance: none;
  -moz-appearance: none;
  appearance: none;

  width: 100px;
  /* Slightly wider for easier interaction */
  height: 8px;
  /* Thicker track for better touch */
  background: rgba(255, 255, 255, 0.15);
  /* Slightly more visible track */
  border-radius: 4px;
  cursor: pointer;
  outline: none;
  /* Remove focus outline */
  transition: background 0.2s ease;
  /* Smooth track transition */
  overflow: visible;
  /* Allow thumb to appear slightly 'outside' */
}

/* Style the Thumb (The "Dot") */
/* WebKit (Chrome, Safari, Edge) */
.volume-slider::-webkit-slider-thumb {
  -webkit-appearance: none;
  appearance: none;
  width: 16px;
  /* Larger thumb */
  height: 16px;
  /* Larger thumb */
  background: var(--primary-light);
  /* Accent color */
  border-radius: 50%;
  /* Circular thumb */
  border: 2px solid var(--surface-color);
  /* Border makes it pop */
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.3);
  /* Subtle shadow */
  cursor: pointer;
  margin-top: -4px;
  /* Vertical centering: -(ThumbHeight - TrackHeight) / 2 */
  transition: transform 0.15s ease;
  /* Smooth scaling */
}

.volume-slider:hover::-webkit-slider-thumb,
.volume-slider:focus::-webkit-slider-thumb {
  transform: scale(1.1);
  /* Enlarge thumb on hover/focus */
}

.volume-slider:active::-webkit-slider-thumb {
  transform: scale(1.2);
  /* Enlarge more when dragging */
}

/* Firefox */
.volume-slider::-moz-range-thumb {
  width: 16px;
  /* Larger thumb */
  height: 16px;
  /* Larger thumb */
  background: var(--primary-light);
  /* Accent color */
  border-radius: 50%;
  /* Circular thumb */
  border: 2px solid var(--surface-color);
  /* Border makes it pop */
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.3);
  /* Subtle shadow */
  cursor: pointer;
  transition: transform 0.15s ease;
  /* Smooth scaling */
}

.volume-slider:hover::-moz-range-thumb,
.volume-slider:focus::-moz-range-thumb {
  transform: scale(1.1);
  /* Enlarge thumb on hover/focus */
}

.volume-slider:active::-moz-range-thumb {
  transform: scale(1.2);
  /* Enlarge more when dragging */
}

/* Style the Track Fill (Progress) - More Robust Approach */
/* WebKit - Using a pseudo-element approach (more reliable than box-shadow trick) */
/* Note: This might require JS to update a CSS variable */
.volume-slider {
  /* Add this variable, update it with JS in handleVolumeChange */
  --volume-percent: 100%;
  position: relative;
  /* Needed for pseudo-element */
}

.volume-slider::before {
  content: '';
  position: absolute;
  left: 0;
  top: 0;
  height: 100%;
  width: var(--volume-percent);
  /* Controlled by JS */
  background: var(--primary-light);
  /* Fill color */
  border-radius: 4px;
  /* Match track radius */
  z-index: 1;
  /* Behind the thumb */
  pointer-events: none;
  /* Don't interfere with clicks */
}

/* Adjust thumb z-index to be above the fill */
.volume-slider::-webkit-slider-thumb {
  position: relative;
  /* Needed for z-index */
  z-index: 2;
}

.volume-slider::-moz-range-thumb {
  position: relative;
  /* Needed for z-index */
  z-index: 2;
}

/* Firefox - Native progress fill */
.volume-slider::-moz-range-progress {
  background-color: var(--primary-light);
  height: 100%;
  border-radius: 4px;
}

/* Hide volume control on smaller screens if desired (as in original CSS) */
@media (max-width: 768px) {
  .volume-control {
    /* display: none; */
    /* Uncomment this if you want to hide it on mobile */
  }
}


/* ==========================================================================
   Artist Info/Overview (Full Player)
   ========================================================================== */

/* Enhanced Artist Info Styles (First block - potentially partial) */
.artist-info-container {
  width: 100%;
  /* Artist info container width */
  max-width: 600px;
  /* Maximum artist info container width */
  background: rgba(30, 41, 59, 0.4);
  /* Semi-transparent background */
  backdrop-filter: blur(10px);
  /* Apply blur to background */
  border-radius: 20px;
  /* Rounded corners for artist info container */
  padding: 2rem;
  /* Padding inside artist info container */
  display: flex;
  /* Use flexbox for layout */
  gap: 2rem;
  /* Spacing between artist image and details */
  align-items: flex-start;
  /* Align items to the start vertically */
  margin-top: 2rem;
  /* Top margin above artist info container */
}

.artist-image {
  width: 120px;
  /* Fixed width for artist image */
  height: 120px;
  /* Fixed height for artist image */
  border-radius: 60px;
  /* Make image circular */
  object-fit: cover;
  /* Ensure image covers the area */
}

.artist-details {
  flex: 1;
  /* Details section takes remaining space */
}

.artist-name {
  font-size: 1.5rem;
  /* Artist name font size */
  font-weight: 600;
  /* Bold artist name */
  margin-bottom: 1rem;
  /* Spacing below artist name */
}

.artist-year,
.artist-genre {
  font-size: 1rem;
  /* Artist year and genre font size */
  color: var(--text-secondary);
  /* Color from root variables */
  line-height: 1.6;
  /* Line height for readability */
}

/* Artist Overview Container Styles (Second, more detailed block) */
.artist-overview-container {
  width: 100%;
  /* Artist overview container width */
  max-width: 600px;
  /* Maximum width */
  background: rgba(30, 41, 59, 0.4);
  /* Semi-transparent background */
  backdrop-filter: blur(10px);
  /* Apply blur to background */
  border-radius: 20px;
  /* Rounded corners */
  padding: 2rem;
  /* Padding inside */
  margin-top: 2rem;
  /* Top margin */
  box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
  /* Shadow */
}

.artist-overview-header h3 {
  font-size: 1.5rem;
  /* Header font size */
  font-weight: 600;
  /* Bold header text */
  margin-bottom: 1.5rem;
  /* Bottom margin */
  color: var(--text-primary);
  /* Text color from root variables */
}

.artist-description {
  margin-bottom: 2rem;
  /* Bottom margin */
}

.artist-description h4 {
  font-size: 1.1rem;
  /* Subheader font size */
  font-weight: 500;
  /* Semi-bold subheader text */
  margin-bottom: 0.75rem;
  /* Bottom margin */
  color: var(--text-primary);
  /* Text color from root variables */
}

.artist-description p {
  color: var(--text-secondary);
  /* Description text color from root variables */
  line-height: 1.6;
  /* Line height for readability */
}

/* Artist Stats (within Overview) */
.artist-stats {
  /* Defined multiple times, this is within Overview */
  display: grid;
  /* Grid layout for stats */
  grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
  /* Responsive columns */
  gap: 1rem;
  /* Spacing between stats cards */
  margin-bottom: 2rem;
  /* Bottom margin */
}

.stat-card {
  /* Defined multiple times, this is within Overview */
  background: var(--card-color);
  /* Card background color from root variables */
  padding: 1.5rem;
  /* Padding inside stat card */
  border-radius: 12px;
  /* Rounded corners */
  text-align: center;
  /* Center text in stat card */
  transition: transform 0.3s ease;
  /* Smooth transform on hover */
}

.stat-card:hover {
  /* Defined multiple times, this is within Overview */
  transform: translateY(-5px);
  /* Slight lift on hover */
}

.stat-card .material-icons {
  /* Defined multiple times, this is within Overview */
  font-size: 2rem;
  /* Icon size in stat card */
  color: var(--primary-light);
  /* Icon color */
  margin-bottom: 0.5rem;
  /* Bottom margin */
  /* Re-apply gradient (from later icon rule) */
  background: var(--icon-music-gradient);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
}

.stat-value {
  /* Defined multiple times, this is within Overview */
  font-size: 1.25rem;
  /* Stat value font size */
  font-weight: 600;
  /* Bold stat value */
  color: var(--text-primary);
  /* Text color from root variables */
  margin-bottom: 0.25rem;
  /* Bottom margin */
}

.stat-label {
  /* Defined multiple times, this is within Overview */
  font-size: 0.9rem;
  /* Stat label font size */
  color: var(--text-secondary);
  /* Label text color from root variables */
}

/* Artist Top Songs (within Overview) */
.artist-top-songs {
  margin-bottom: 2rem;
  /* Bottom margin */
}

.artist-top-songs h4 {
  font-size: 1.1rem;
  /* Subheader font size */
  font-weight: 500;
  /* Semi-bold subheader text */
  margin-bottom: 1rem;
  /* Bottom margin */
  color: var(--text-primary);
  /* Text color from root variables */
}

.top-songs-list {
  display: flex;
  /* Flex layout for top songs list */
  flex-direction: column;
  /* Stack songs vertically */
  gap: 0.75rem;
  /* Spacing between song items */
}

.top-song-item {
  display: flex;
  /* Flex layout for song item */
  align-items: center;
  /* Vertically align song item content */
  padding: 0.75rem;
  /* Padding inside song item */
  background: var(--card-color);
  /* Background color from root variables */
  border-radius: 12px;
  /* Rounded corners */
  transition: background-color 0.3s ease;
  /* Smooth background color transition on hover */
  cursor: pointer;
  /* Indicate item is clickable */
}

.top-song-item:hover {
  background: rgba(51, 65, 85, 0.8);
  /* Darker background on hover */
}

.song-number {
  font-size: 1.25rem;
  /* Song number font size */
  font-weight: 700;
  /* Bold song number */
  color: var(--text-secondary);
  /* Number color from root variables */
  width: 2.5rem;
  /* Fixed width for song number */
  text-align: center;
  /* Center align song number */
}

/* Reusing .song-info within Top Songs List */
.top-song-item .song-info {
  flex: 1;
  /* Info section takes remaining space */
  margin-left: 1rem;
  /* Left margin for info section */
  /* Overrides the earlier padding definition if present */
  padding: 0;
  /* Remove padding if it was inherited */
}

.top-song-item .song-title {
  /* Reusing .song-title for top song items */
  font-weight: 500;
  /* Adjusted font weight for top song title */
  color: var(--text-primary);
  /* Text color from root variables */
  margin-bottom: 0.25rem;
  /* Bottom margin */
  /* Ensure consistent behavior with base .song-title */
  font-size: 1rem;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

.song-plays {
  font-size: 0.85rem;
  /* Plays count font size */
  color: var(--text-secondary);
  /* Plays count color from root variables */
}

/* Artist Links (within Overview) */
.artist-links {
  display: flex;
  /* Flex layout for artist links */
  gap: 1rem;
  /* Spacing between links */
  flex-wrap: wrap;
  /* Wrap links on smaller screens */
}

.artist-link {
  display: flex;
  /* Flex layout for individual link */
  align-items: center;
  /* Vertically align link content */
  gap: 0.5rem;
  /* Spacing between icon and text */
  padding: 0.75rem 1.25rem;
  /* Padding inside link */
  background: var(--card-color);
  /* Background color from root variables */
  border-radius: 12px;
  /* Rounded corners */
  color: var(--text-primary);
  /* Text color from root variables */
  text-decoration: none;
  /* Remove underline from links */
  transition: all 0.3s ease;
  /* Smooth transition for hover effects */
}

.artist-link:hover {
  background: rgba(51, 65, 85, 0.8);
  /* Darker background on hover */
  transform: translateY(-2px);
  /* Slight lift on hover */
}

.artist-link .material-icons {
  font-size: 1.25rem;
  /* Icon size in artist link */
  /* Ensure gradient is applied */
  background: var(--icon-music-gradient);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
}

/* ==========================================================================
   Integration Modal (Full Player Sub-View)
   ========================================================================== */

.integration-container {
  position: absolute;
  /* Position over full player content */
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: var(--background-color);
  /* Match background color */
  z-index: 10;
  /* Ensure it's above other content in full player */
  padding: 2rem;
  /* Padding inside integration container */
  overflow-y: auto;
  /* Allow vertical scrolling if content is long */
}

.integration-header {
  display: flex;
  /* Use flexbox for header layout */
  justify-content: space-between;
  /* Space out header items */
  align-items: center;
  /* Vertically align header items */
  margin-bottom: 2rem;
  /* Bottom margin below header */
}

.close-button {
  /* Defined multiple times, this is for Integration */
  background: none;
  /* No background color */
  border: none;
  /* Remove border */
  color: var(--text-secondary);
  /* Icon color from root variables */
  cursor: pointer;
  /* Indicate button is clickable */
  padding: 0.5rem;
  /* Padding around close button */
  border-radius: 50%;
  /* Make button circular */
  transition: all 0.3s;
  /* Smooth transition for hover effects */
  /* Note: Later definitions might override font-size etc. */
}

.close-button:hover {
  /* Defined multiple times, this is for Integration */
  background: rgba(255, 255, 255, 0.1);
  /* Background on hover */
  color: var(--text-primary);
  /* Icon color on hover */
}

.integration-options {
  display: flex;
  /* Use flexbox for options layout */
  flex-direction: column;
  /* Stack options vertically */
  gap: 2rem;
  /* Spacing between option sections */
}

.size-buttons,
.theme-buttons {
  display: flex;
  /* Use flexbox for buttons layout */
  gap: 1rem;
  /* Spacing between buttons */
  margin-top: 0.5rem;
  /* Top margin above buttons */
}

.size-btn,
.theme-btn {
  padding: 0.5rem 1rem;
  /* Padding inside buttons */
  border-radius: 8px;
  /* Rounded corners for buttons */
  border: 1px solid rgba(255, 255, 255, 0.1);
  /* Light border */
  background: var(--surface-color);
  /* Background color from root variables */
  color: var(--text-primary);
  /* Text color from root variables */
  cursor: pointer;
  /* Indicate button is clickable */
  transition: all 0.3s;
  /* Smooth transition for hover effects */
  display: flex;
  /* Use flexbox for button content */
  align-items: center;
  /* Vertically align button content */
  gap: 0.5rem;
  /* Spacing between button content items */
}

.size-btn:hover,
.theme-btn:hover {
  background: var(--card-color);
  /* Background on hover */
}

.size-btn.active,
.theme-btn.active {
  border-color: var(--primary-light);
  /* Highlight border when active */
  background: rgba(79, 70, 229, 0.2);
  /* Highlight background when active */
}

.theme-color {
  width: 16px;
  /* Fixed width for theme color indicator */
  height: 16px;
  /* Fixed height for theme color indicator */
  border-radius: 4px;
  /* Rounded corners for theme color indicator */
}

.theme-color.default {
  background: linear-gradient(135deg, #1e293b, #0f172a);
  /* Default theme gradient */
}

.theme-color.purple {
  background: linear-gradient(135deg, #4c1d95, #2e1065);
  /* Purple theme gradient */
}

.theme-color.blue {
  background: linear-gradient(135deg, #1e40af, #1e3a8a);
  /* Blue theme gradient */
}

.theme-color.dark {
  background: linear-gradient(135deg, #18181b, #09090b);
  /* Dark theme gradient */
}

.preview-container {
  margin-top: 0.5rem;
  /* Top margin above preview container */
  border-radius: 12px;
  /* Rounded corners for preview container */
  overflow: hidden;
  /* Clip iframe to rounded corners */
  background: var(--surface-color);
  /* Background color from root variables */
  padding: 1rem;
  /* Padding inside preview container */
}

.preview-container iframe {
  width: 100%;
  /* Iframe takes full width of container */
  border-radius: 8px;
  /* Rounded corners for iframe */
}

.code-container {
  position: relative;
  /* Position relative to contain copy button */
  margin-top: 0.5rem;
  /* Top margin above code container */
}

.code-block {
  background: var(--surface-color);
  /* Background color from root variables */
  padding: 1rem;
  /* Padding inside code block */
  border-radius: 8px;
  /* Rounded corners for code block */
  font-family: monospace;
  /* Monospace font for code */
  white-space: pre-wrap;
  /* Allow line breaks in code */
  word-break: break-all;
  /* Break long words */
  color: var(--text-primary);
  /* Text color from root variables */
  font-size: 0.9rem;
  /* Code font size */
  max-height: 200px;
  /* Maximum height for code block */
  overflow-y: auto;
  /* Allow vertical scrolling in code block */
}

.copy-btn {
  position: absolute;
  /* Position copy button in code container */
  top: 0.5rem;
  right: 0.5rem;
  background: rgba(255, 255, 255, 0.1);
  /* Background color */
  border: none;
  /* Remove border */
  color: var(--text-secondary);
  /* Icon color from root variables */
  padding: 0.5rem;
  /* Padding around copy button */
  border-radius: 50%;
  /* Make button circular */
  cursor: pointer;
  /* Indicate button is clickable */
  transition: all 0.3s;
  /* Smooth transition for hover effects */
}

.copy-btn:hover {
  background: rgba(255, 255, 255, 0.2);
  /* Background on hover */
  color: var(--text-primary);
  /* Icon color on hover */
}


/* ==========================================================================
   Insights Modal
   ========================================================================== */

.insights-modal {
  display: none;
  /* Initially hidden */
  position: fixed;
  /* Fixed position covering the viewport */
  inset: 0;
  /* Cover all sides */
  background: var(--background-color);
  /* Background color from root variables */
  z-index: 1000;
  /* Ensure it's on top of everything */
  overflow-y: auto;
  /* Allow vertical scrolling if content is long */
}

.insights-content {
  max-width: 1200px;
  /* Maximum width for insights content */
  margin: 0 auto;
  /* Center content horizontally */
  padding: 2rem;
  /* Padding inside insights content */
}

.insights-header {
  display: flex;
  /* Flex layout for header */
  justify-content: space-between;
  /* Space out header items */
  align-items: center;
  /* Vertically align header items */
  margin-bottom: 2rem;
  /* Bottom margin */
}

.insights-header h2 {
  font-size: 1.8rem;
  /* Header title font size */
  font-weight: 600;
  /* Bold header title */
  background: var(--accent-gradient);
  /* Gradient background for text */
  -webkit-background-clip: text;
  /* Clip background to text shape (WebKit browsers) */
  -webkit-text-fill-color: transparent;
  /* Make text transparent to show background */
}

.insight-section {
  background: var(--surface-color);
  /* Section background color from root variables */
  border-radius: 16px;
  /* Rounded corners */
  padding: 1.5rem;
  /* Padding inside insight section */
  margin-bottom: 2rem;
  /* Bottom margin */
}

.insight-section h3 {
  font-size: 1.4rem;
  /* Section title font size */
  margin-bottom: 1.5rem;
  /* Bottom margin */
  color: var(--text-primary);
  /* Text color from root variables */
}

/* Stats Grid Styles (Insights Modal) */
.insights-modal .stats-grid {
  /* Targeting stats-grid inside insights modal */
  display: grid;
  /* Grid layout */
  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
  /* Responsive columns */
  gap: 1rem;
  /* Spacing between grid items */
}

/* Stat Card Styles (Insights Modal) */
.insights-modal .stat-card {
  /* Targeting stat-card inside insights modal */
  background: var(--card-color);
  /* Card background color from root variables */
  padding: 1.5rem;
  /* Padding inside stat card */
  border-radius: 12px;
  /* Rounded corners */
  text-align: center;
  /* Center text */
  transition: transform 0.3s ease;
  /* Smooth transform on hover */
}

.insights-modal .stat-card:hover {
  /* Hover effect for stat-card in insights modal */
  transform: translateY(-5px);
  /* Slight lift on hover */
}

.insights-modal .stat-card .material-icons {
  /* Icon styles in stat-card of insights modal */
  font-size: 2rem;
  /* Icon size */
  color: var(--primary-light);
  /* Icon color */
  margin-bottom: 0.5rem;
  /* Bottom margin */
  /* Ensure gradient icon style */
  background: var(--icon-music-gradient);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
}

.insights-modal .stat-card .stat-value {
  /* Stat value styles in insights modal */
  font-size: 1.8rem;
  /* Value font size */
  font-weight: 600;
  /* Bold value text */
  margin-bottom: 0.25rem;
  /* Bottom margin */
  color: var(--text-primary);
  /* Need to explicitly set color here */
}

.insights-modal .stat-card .stat-label {
  /* Stat label styles in insights modal */
  color: var(--text-secondary);
  /* Label text color from root variables */
  font-size: 0.9rem;
  /* Label font size */
}

/* Top Artists List Styles (Insights Modal) */
.top-artists-list {
  display: grid;
  /* Grid layout */
  grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
  /* Responsive columns */
  gap: 1rem;
  /* Spacing between artist cards */
}

.artist-card {
  background: var(--card-color);
  /* Card background color from root variables */
  padding: 1rem;
  /* Padding inside artist card */
  border-radius: 12px;
  /* Rounded corners */
  display: flex;
  /* Flex layout for artist card */
  align-items: center;
  /* Vertically align content */
  gap: 1rem;
  /* Spacing between artist rank and info */
}

.artist-rank {
  font-size: 1.5rem;
  /* Rank font size */
  font-weight: 700;
  /* Bold rank text */
  color: var(--primary-light);
  /* Rank color */
  width: 2rem;
  /* Fixed width for rank number */
  text-align: center;
  /* Center align rank number */
}

/* Reusing .artist-info within Artist Card (Insights) */
.artist-card .artist-info {
  flex: 1;
  /* Info section takes remaining space */
  min-width: 0;
  /* Prevent content overflow */
  /* Reset padding/margin if inherited */
}

/* Reusing .artist-name within Artist Card (Insights) */
.artist-card .artist-name {
  /* Artist name styles in artist card */
  font-weight: 600;
  /* Bold artist name */
  margin-bottom: 0.25rem;
  /* Bottom margin */
  white-space: nowrap;
  /* Prevent text wrapping */
  overflow: hidden;
  /* Hide overflow text */
  text-overflow: ellipsis;
  /* Show ellipsis for overflow text */
  /* Ensure consistent styles */
  font-size: 1rem;
  /* Match base .artist-name font-size if needed */
  color: var(--text-primary);
}

/* Reusing .artist-stats within Artist Card (Insights) */
.artist-card .artist-stats {
  /* This is for the text below name, not the grid */
  color: var(--text-secondary);
  /* Stats text color from root variables */
  font-size: 0.9rem;
  /* Stats font size */
  /* Reset grid styles if they were inherited somehow */
  display: block;
  grid-template-columns: none;
  gap: 0;
  margin-bottom: 0;
}

/* Patterns Container Styles (Insights Modal) */
.patterns-container {
  display: grid;
  /* Grid layout */
  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
  /* Responsive columns */
  gap: 2rem;
  /* Spacing between chart containers */
}

.pattern-chart {
  background: var(--card-color);
  /* Chart background color from root variables */
  padding: 1rem;
  /* Padding inside chart container */
  border-radius: 12px;
  /* Rounded corners */
  min-height: 200px;
  /* Minimum height for chart container */
}

.pattern-chart h4 {
  text-align: center;
  /* Center chart title text */
  margin-bottom: 1rem;
  /* Bottom margin */
  color: var(--text-secondary);
  /* Title text color from root variables */
}

/* Recent Activity List Styles (Insights Modal) */
.recent-activity-list {
  display: flex;
  /* Flex layout for activity list */
  flex-direction: column;
  /* Stack activity items vertically */
  gap: 0.75rem;
  /* Spacing between activity items */
}

.activity-item {
  background: var(--card-color);
  /* Item background color from root variables */
  padding: 1rem;
  /* Padding inside activity item */
  border-radius: 12px;
  /* Rounded corners */
  display: flex;
  /* Flex layout for activity item */
  align-items: center;
  /* Vertically align content */
  gap: 1rem;
  /* Spacing between activity time and info */
}

.activity-time {
  font-size: 0.9rem;
  /* Time font size */
  color: var(--text-secondary);
  /* Time text color from root variables */
  white-space: nowrap;
  /* Prevent text wrapping */
}

/* Reusing .activity-info within Activity Item (Insights) */
.activity-item .activity-info {
  flex: 1;
  /* Info section takes remaining space */
  min-width: 0;
  /* Prevent content overflow */
}

.activity-item .activity-title {
  /* Activity title styles */
  font-weight: 500;
  /* Semi-bold title text */
  margin-bottom: 0.25rem;
  /* Bottom margin */
  white-space: nowrap;
  /* Prevent text wrapping */
  overflow: hidden;
  /* Hide overflow text */
  text-overflow: ellipsis;
  /* Show ellipsis for overflow text */
  color: var(--text-primary);
  /* Ensure text color */
}

.activity-artist {
  /* Defined within Activity Item */
  color: var(--text-secondary);
  /* Artist text color from root variables */
  font-size: 0.9rem;
  /* Artist font size */
}

/* Completion Bar (Insights Modal) */
.activity-completion {
  background: rgba(255, 255, 255, 0.1);
  /* Background for completion bar track */
  height: 4px;
  /* Height of completion bar track */
  width: 100px;
  /* Fixed width for completion bar track */
  border-radius: 2px;
  /* Rounded corners */
  overflow: hidden;
  /* Clip completion bar within bounds */
}

.completion-bar {
  height: 100%;
  /* Fill completion bar track height */
  background: var(--accent-gradient);
  /* Completion bar color gradient */
  transition: width 0.3s ease;
  /* Smooth width transition */
}

/* Completion Stats Section (Insights Modal) */
.completion-stats {
  display: grid;
  /* Grid layout */
  grid-template-columns: 2fr 1fr;
  /* Two column layout (chart and summary) */
  gap: 2rem;
  /* Spacing between chart and summary */
  align-items: center;
  /* Vertically align chart and summary */
}

.completion-chart {
  background: var(--card-color);
  /* Chart background color from root variables */
  padding: 1rem;
  /* Padding inside chart container */
  border-radius: 12px;
  /* Rounded corners */
  height: 300px;
  /* Fixed height for completion chart */
}

.completion-summary {
  display: flex;
  /* Flex layout for summary section */
  flex-direction: column;
  /* Stack summary elements vertically */
  gap: 1rem;
  /* Spacing between summary elements */
}

.completion-rate {
  background: var(--card-color);
  /* Rate card background color from root variables */
  padding: 1.5rem;
  /* Padding inside rate card */
  border-radius: 12px;
  /* Rounded corners */
  text-align: center;
  /* Center text in rate card */
}

.completion-rate span {
  font-size: 2.5rem;
  /* Rate value font size */
  font-weight: 700;
  /* Bold rate value */
  background: var(--accent-gradient);
  /* Gradient background for text */
  -webkit-background-clip: text;
  /* Clip background to text shape (WebKit browsers) */
  -webkit-text-fill-color: transparent;
  /* Make text transparent to show background */
  display: block;
  /* Make span a block element */
  margin-bottom: 0.5rem;
  /* Bottom margin */
}

.completion-rate label {
  color: var(--text-secondary);
  /* Label text color from root variables */
  font-size: 0.9rem;
  /* Label font size */
}


/* ==========================================================================
   History Modal
   ========================================================================== */

/* Base modal styles (redefined multiple times, using latest) */
.modal {
  display: none;
  /* Hidden by default, toggle with JS */
  position: fixed;
  z-index: 1000;
  left: 0;
  top: 0;
  width: 100%;
  height: 100%;
  background-color: rgba(0, 0, 0, 0.5);
  /* Semi-transparent overlay */
  overflow: auto;
  /* Older background definition (likely overridden) */
  /* background: rgba(15, 23, 42, 0.9); */
}

.modal-content {
  /* Redefined multiple times, using latest */
  background-color: #27cb7671;
  /* Latest definition uses white */
  margin: 10% auto;
  /* Centered vertically and horizontally */
  padding: 20px;
  border-radius: 8px;
  /* Latest uses 8px */
  width: 80%;
  max-width: 600px;
  /* Responsive max width */
  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
  /* Subtle shadow */
  position: relative;
  /* Older definitions: */
  /* background: var(--background-color); */
  /* border-radius: 16px; */
  /* box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3); */
  /* max-width: 800px; */
  /* margin: 2rem auto; */
}

.modal-header {
  /* Redefined multiple times, using latest */
  margin-bottom: 15px;
  /* Latest definition just adds margin */
  /* Older definitions: */
  /* display: flex; */
  /* justify-content: space-between; */
  /* align-items: center; */
  /* padding: 1.5rem; */
  /* border-bottom: 1px solid rgba(255, 255, 255, 0.1); */
}

/* Close button (redefined multiple times, using latest) */
.close-button {
  /* Note: this applies to ALL modals using this class */
  position: absolute;
  top: 10px;
  right: 15px;
  font-size: 24px;
  /* Latest adds font-size */
  cursor: pointer;
  /* Older definitions (some might be overridden) */
  /* background: none; */
  /* border: none; */
  /* color: var(--text-secondary); */
  /* padding: 0.5rem; */
  /* border-radius: 50%; */
  /* transition: all 0.3s; */
}

/* The :hover state from the Integration modal might still apply */
.close-button:hover {
  /* background: rgba(255,255,255,0.1); */
  /* From Integration */
  /* color: var(--text-primary); */
  /* From Integration */
  /* Color might be overridden by playlist modal styles if applicable */
}

/* History Specific Styles */
.history-list {
  padding: 1rem;
  /* Padding inside history list */
  margin-top: 0;
  /* Reset margin if inherited from #playlistList */
}

.history-item {
  display: flex;
  /* Flex layout for history item */
  align-items: center;
  /* Vertically align content */
  padding: 1rem;
  /* Padding inside history item */
  border-radius: 12px;
  /* Rounded corners */
  margin-bottom: 1rem;
  /* Bottom margin */
  background: var(--surface-color);
  /* Background color from root variables */
  transition: all 0.3s ease;
  /* Smooth transition for hover effects */
  cursor: pointer;
  /* Indicate item is clickable */
  border-bottom: none;
  /* Override border from .playlist-item if shared */
}

.history-item:hover {
  background: var(--card-color);
  /* Background on hover */
  transform: translateY(-2px);
  /* Slight lift on hover */
}

.history-thumbnail {
  width: 60px;
  /* Fixed width for thumbnail */
  height: 60px;
  /* Fixed height for thumbnail */
  border-radius: 8px;
  /* Rounded corners */
  margin-right: 1rem;
  /* Right margin */
  object-fit: cover;
  /* Ensure image covers area */
}

/* Reusing .history-info for consistency */
.history-info {
  flex: 1;
  /* Info section takes remaining space */
  min-width: 0;
  /* Prevent content overflow */
  /* Reset flex-direction if inherited from .playlist-info */
  flex-direction: unset;
}

.history-item .history-title {
  /* Using unique class to avoid conflict */
  font-weight: 600;
  /* Bold title text */
  margin-bottom: 0.25rem;
  /* Bottom margin */
  white-space: nowrap;
  /* Prevent text wrapping */
  overflow: hidden;
  /* Hide overflow text */
  text-overflow: ellipsis;
  /* Show ellipsis for overflow text */
  color: var(--text-primary);
  /* Ensure color */
}

.history-artist {
  color: var(--text-secondary);
  /* Artist text color from root variables */
  font-size: 0.9rem;
  /* Artist font size */
}

.history-time {
  color: var(--text-secondary);
  /* Time text color from root variables */
  font-size: 0.8rem;
  /* Time font size */
  margin-top: 0.25rem;
  /* Top margin */
}

.history-play {
  width: 40px;
  /* Fixed width for play button */
  height: 40px;
  /* Fixed height for play button */
  border-radius: 50%;
  /* Make button circular */
  background: var(--accent-gradient);
  /* Gradient background for play button */
  display: flex;
  /* Flex layout to center icon */
  align-items: center;
  /* Center icon vertically */
  justify-content: center;
  /* Center icon horizontally */
  margin-left: 1rem;
  /* Left margin */
  opacity: 0;
  /* Initially hidden */
  transition: all 0.3s ease;
  /* Smooth transition for hover effect */
}

.history-item:hover .history-play {
  /* Show play button on history item hover */
  opacity: 1;
  /* Make play button visible on hover */
}


/* ==========================================================================
   Playlist Modal / Management
   ========================================================================== */

/* New Playlist Modal Specific Styles (First block related to playlists) */
.new-playlist-modal {
  /* Override global variables for a unique theme */
  --surface-color: rgba(30, 30, 30, 0.8);
  /* Darker surface */
  --card-color: rgba(40, 40, 40, 0.9);
  /* Darker card background */
  --accent-color: #ff4081;
  /* New accent: pink */
  --playlist-accent-gradient: linear-gradient(45deg, #ff4081, #ff79b0);
  /* Gradient for buttons/header */
}

/* Enhanced modal content for new playlist */
.new-playlist-modal .modal-content {
  padding: 2rem;
  /* Overrides generic padding */
  background: var(--surface-color);
  /* Use themed surface */
  /* Resets generic styles potentially applied by later rules */
  margin: 10% auto;
  max-width: 600px;
  width: 90%;
  border-radius: 16px;
}

/* Styled modal header with gradient */
.new-playlist-modal .modal-header {
  background: var(--playlist-accent-gradient);
  color: #fff;
  padding: 1.5rem;
  border-top-left-radius: 16px;
  /* Match content radius */
  border-top-right-radius: 16px;
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 0;
  /* Override generic margin */
}

.new-playlist-modal .close-button {
  color: #fff;
  /* Override generic/integration color */
  font-size: 24px;
  background: none;
  border: none;
  cursor: pointer;
  /* Reset integration styles */
  padding: 0;
  border-radius: 0;
  position: static;
  /* Override absolute */
}

.new-playlist-modal .close-button:hover {
  color: #eee;
  background: none;
  /* Override integration hover */
}

/* Playlist list within new playlist modal */
.new-playlist-modal .playlist-list {
  display: flex;
  flex-direction: column;
  gap: 1rem;
  max-height: 60vh;
  overflow-y: auto;
  margin-top: 1rem;
  padding: 0;
  /* Reset generic padding */
}

/* Playlist item design within new playlist modal */
.new-playlist-modal .playlist-item {
  display: flex;
  align-items: center;
  padding: 1rem;
  background: var(--card-color);
  /* Use themed card color */
  border-radius: 12px;
  transition: transform 0.2s ease, box-shadow 0.2s ease;
  /* Reset generic playlist item styles */
  justify-content: flex-start;
  border-bottom: none;
  cursor: default;
  /* Or pointer if clickable */
  margin-bottom: 0;
}

.new-playlist-modal .playlist-item:hover {
  transform: scale(1.02);
  box-shadow: 0 8px 16px rgba(0, 0, 0, 0.2);
  background: var(--card-color);
  /* Maintain background on hover */
}

.new-playlist-modal .playlist-icon {
  font-size: 24px;
  margin-right: 1rem;
  color: var(--text-secondary, #b0b0b0);
  /* Fallback if not defined */
}

.new-playlist-modal .playlist-name {
  font-size: 1.2rem;
  font-weight: 700;
  /* Bolder than generic */
  color: var(--text-primary, #fff);
  /* Fallback if not defined */
}

.new-playlist-modal .song-count {
  font-size: 0.9rem;
  color: var(--text-secondary, #b0b0b0);
}

/* Song item design within new playlist modal */
.new-playlist-modal .song-item {
  display: flex;
  align-items: center;
  padding: 0.75rem 1rem;
  background: var(--surface-color);
  /* Use themed surface */
  border-radius: 8px;
  transition: background-color 0.3s ease;
  /* Reset generic playlist song styles */
  border-bottom: none;
}

.new-playlist-modal .song-item:hover {
  background-color: var(--card-color);
  /* Use themed card */
}

.new-playlist-modal .song-title {
  font-size: 1rem;
  font-weight: 600;
  color: var(--text-primary);
  /* Ensure color */
}

.new-playlist-modal .song-artist {
  font-size: 0.85rem;
  color: var(--text-secondary, #b0b0b0);
}

/* Control buttons within new playlist modal */
.new-playlist-modal .control-btn {
  color: var(--text-secondary, #b0b0b0);
  transition: color 0.3s ease, background-color 0.3s ease;
  /* Reset generic control button styles */
  background: none;
  border: none;
  padding: 5px;
  /* Match generic */
}

.new-playlist-modal .control-btn:hover,
.new-playlist-modal .control-btn.active {
  color: var(--accent-color);
  /* Use themed accent */
  background-color: rgba(255, 255, 255, 0.1);
  /* Subtle background */
}

/* Create playlist button (specific to new playlist modal) */
.new-playlist-modal .glass-button {
  background: var(--playlist-accent-gradient);
  color: #fff;
  padding: 0.75rem 1.5rem;
  border-radius: 8px;
  font-weight: 600;
  border: none;
  cursor: pointer;
  transition: transform 0.2s ease;
  margin-top: 1rem;
}

.new-playlist-modal .glass-button:hover {
  transform: scale(1.05);
}

/* Create Playlist Section (Appears related to both sets of playlist styles) */
/* Using the LATEST definitions found */
#createPlaylistSection {
  display: flex;
  align-items: center;
  gap: 10px;
  margin-bottom: 15px;
}

#newPlaylistName {
  flex: 1;
  /* Takes up available space */
  padding: 8px;
  /* Latest padding */
  border: 1px solid #ccc;
  border-radius: 4px;
  /* Older styles */
  /* padding: 5px; */
  /* width: 200px; */
  /* margin-right: 10px; */
}

#submitPlaylistBtn {
  padding: 8px 12px;
  /* Latest padding */
  border: none;
  border-radius: 4px;
  cursor: pointer;
  transition: background-color 0.2s;
  background-color: #4CAF50;
  /* Green for submit */
  color: white;
  /* Older styles */
  /* padding: 5px 10px; */
}

#submitPlaylistBtn:hover {
  background-color: #45a049;
  /* Darker green on hover */
  /* Older styles */
  /* opacity: 0.9; */
}

#cancelPlaylistBtn {
  padding: 8px 12px;
  /* Latest padding */
  border: none;
  border-radius: 4px;
  cursor: pointer;
  transition: background-color 0.2s;
  background-color: #f44336;
  /* Red for cancel */
  color: white;
  /* Older styles */
  /* padding: 5px 10px; */
  /* margin-left: 5px; */
}

#cancelPlaylistBtn:hover {
  background-color: #da190b;
  /* Darker red on hover */
  /* Older styles */
  /* opacity: 0.9; */
}

/* Generic Playlist Management Styles (Last block of playlist styles) */
/* These apply AFTER .new-playlist-modal styles and may affect them if specificity is lower */
#playlistList {
  /* Assumed target for generic list */
  margin-top: 20px;
  padding: 0;
  /* Reset padding */
}

.playlist-item {
  /* Generic playlist item - LATEST definition */
  display: flex;
  justify-content: space-between;
  /* Different from new-playlist */
  align-items: center;
  padding: 10px;
  /* Different from new-playlist */
  border-bottom: 1px solid #eee;
  /* Adds border */
  cursor: pointer;
  /* Adds pointer */
  transition: background-color 0.2s;
  /* Different transition */
  /* Reset some new-playlist styles */
  background-color: transparent;
  /* Or inherit? */
  border-radius: 0;
  margin-bottom: 0;
}

.playlist-item:hover {
  /* Generic hover - LATEST definition */
  background-color: #f5f5f5;
  /* Light grey hover */
  /* Reset new-playlist hover */
  transform: none;
  box-shadow: none;
}

.playlist-info {
  /* Generic info container */
  display: flex;
  flex-direction: column;
  /* Stacks name/count */
}

.playlist-name {
  /* Generic name style */
  font-weight: bold;
  /* Less bold than new-playlist */
  font-size: 1rem;
  /* Implicitly smaller */
  color: inherit;
  /* Or #000? */
}

.song-count {
  /* Generic count style */
  font-size: 0.9em;
  color: #666;
  /* Muted text color */
}

.playlist-controls {
  /* Generic controls container */
  display: flex;
  gap: 10px;
  /* Spacing between control buttons */
}

.control-btn {
  /* Generic control button - LATEST definition */
  background: none;
  border: none;
  cursor: pointer;
  padding: 5px;
  /* Different from new-playlist */
  transition: color 0.2s;
  /* Different transition */
  color: inherit;
  /* Or #000? */
}

.control-btn:hover {
  /* Generic hover - LATEST definition */
  color: #007bff;
  /* Blue on hover */
  background: none;
  /* Reset new-playlist hover */
}

/* Playlist Songs View (Generic) */
.pl-header {
  display: flex;
  align-items: center;
  margin-bottom: 15px;
}

.pl-back-btn {
  background: none;
  border: none;
  cursor: pointer;
  margin-right: 10px;
}

.pl-song-item {
  display: flex;
  align-items: center;
  padding: 10px;
  /* Different from new-playlist song item */
  border-bottom: 1px solid #eee;
  /* Adds border */
  /* Reset new-playlist song item styles */
  background-color: transparent;
  /* Or inherit? */
  border-radius: 0;
}

.pl-song-item:hover {
  background-color: #f5f5f5;
  /* Match generic item hover */
}

.pl-song-thumb {
  width: 50px;
  height: 50px;
  object-fit: cover;
  /* Ensures image fills space nicely */
  margin-right: 10px;
}

.pl-song-info {
  flex: 1;
}

.pl-song-title {
  font-weight: bold;
  /* Different from new-playlist song title */
  font-size: 1rem;
  /* Implicitly same */
  color: inherit;
  /* Or #000? */
}

.pl-song-artist {
  font-size: 0.9em;
  /* Slightly different from new-playlist */
  color: #666;
  /* Muted text */
}

.pl-control-btn {
  /* Controls within song view */
  background: none;
  border: none;
  cursor: pointer;
  padding: 5px;
  transition: color 0.2s;
}

.pl-control-btn:hover {
  color: #007bff;
  /* Blue on hover */
}

/* Miscellaneous Generic Playlist Styles */
#modalHeader {
  /* Used in generic playlist context */
  margin-bottom: 15px;
}

#createPlaylistBtn {
  /* Generic create button */
  background-color: #007bff;
  /* Blue */
  color: white;
  padding: 10px 15px;
  /* Different from glass-button */
  border: none;
  border-radius: 4px;
  /* Different from glass-button */
  cursor: pointer;
  transition: background-color 0.2s;
}

#createPlaylistBtn:hover {
  background-color: #0056b3;
  /* Darker blue on hover */
}

/* ==========================================================================
   Session / Warning Popups
   ========================================================================== */

/* Session Popup Styles */
.session-popup {
  position: fixed;
  /* Fixed position in viewport */
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  /* Center popup */
  background: var(--surface-color);
  /* Background color from root variables */
  padding: 2rem;
  /* Padding inside popup */
  border-radius: 16px;
  /* Rounded corners */
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.4);
  /* Shadow */
  z-index: 9999;
  /* Ensure it's on top of everything */
  text-align: center;
  /* Center text in popup */
  max-width: 400px;
  /* Maximum width for popup */
  width: 90%;
  /* Responsive width */
  animation: popupIn 0.3s ease;
  /* Slide in animation */
  border: 1px solid rgba(255, 255, 255, 0.1);
  /* Light border */
}

.session-popup-overlay {
  position: fixed;
  /* Fixed overlay covering viewport */
  inset: 0;
  /* Cover all sides */
  background: rgba(0, 0, 0, 0.8);
  /* Dark semi-transparent background */
  backdrop-filter: blur(8px);
  /* Apply blur to background */
  z-index: 9998;
  /* Ensure it's behind popup but above other content */
  animation: fadeIn 0.3s ease;
  /* Fade in animation */
}

.session-popup-icon {
  font-size: 48px;
  /* Icon size in popup */
  color: var(--error-color);
  /* Error icon color */
  margin-bottom: 1rem;
  /* Bottom margin */
  /* Ensure icon is visible if text-fill was transparent */
  -webkit-text-fill-color: var(--error-color);
  background: none;
  animation: none;
}

.session-popup-title {
  font-size: 1.5rem;
  /* Title font size in popup */
  font-weight: 600;
  /* Bold title text */
  margin-bottom: 1rem;
  /* Bottom margin */
  color: var(--text-primary);
  /* Text color from root variables */
}

.session-popup-message {
  color: var(--text-secondary);
  /* Message text color from root variables */
  margin-bottom: 1.5rem;
  /* Bottom margin */
  line-height: 1.5;
  /* Line height for readability */
}

.session-popup-button {
  background: var(--accent-gradient);
  /* Gradient background for button */
  color: white;
  /* Button text color */
  border: none;
  /* Remove border */
  padding: 0.75rem 2rem;
  /* Padding inside button */
  border-radius: 8px;
  /* Rounded corners */
  font-weight: 600;
  /* Bold button text */
  cursor: pointer;
  /* Indicate button is clickable */
  transition: transform 0.2s;
  /* Smooth transform on hover */
}

.session-popup-button:hover {
  transform: translateY(-2px);
  /* Slight lift on hover */
}

/* HTTP Warning Widget */
.http-warning-overlay {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: rgba(0, 0, 0, 0.6);
  z-index: 10000;
  display: none;
  /* Controlled by JS */
  justify-content: center;
  align-items: center;
  backdrop-filter: blur(5px);
}

.http-warning-widget {
  position: relative;
  width: 90%;
  max-width: 90%;
  /* Seems large, kept as original */
  padding: 20px;
  background: linear-gradient(135deg, rgba(255, 99, 71, 0.9), rgba(255, 215, 0, 0.9));
  border-radius: 15px;
  box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
  color: white;
  font-family: 'Poppins', sans-serif;
  text-align: center;
  animation: slideIn 0.5s ease-out forwards;
  overflow: hidden;
}

.http-warning-widget::before {
  content: '';
  position: absolute;
  top: -50%;
  left: -50%;
  width: 200%;
  height: 200%;
  background: radial-gradient(circle, rgba(255, 255, 255, 0.2), transparent);
  opacity: 0.3;
  animation: rotateGlow 10s linear infinite;
}

.http-warning-title {
  font-size: 24px;
  font-weight: 700;
  margin-bottom: 10px;
  text-shadow: 1px 1px 5px rgba(0, 0, 0, 0.2);
}

.http-warning-message {
  font-size: 16px;
  line-height: 1.5;
  margin-bottom: 15px;
}

.http-warning-recommendation {
  font-size: 14px;
  background: rgba(255, 255, 255, 0.2);
  padding: 10px;
  border-radius: 10px;
  margin-bottom: 20px;
}

.http-warning-close {
  position: absolute;
  top: 10px;
  right: 10px;
  width: 30px;
  height: 30px;
  background: rgba(255, 255, 255, 0.3);
  border: none;
  border-radius: 50%;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: all 0.3s ease;
}

.http-warning-close:hover {
  background: rgba(255, 255, 255, 0.5);
  transform: rotate(90deg);
}

.http-warning-close .material-icons {
  font-size: 20px;
  color: white;
  /* Reset icon gradient/animation */
  background: none;
  -webkit-text-fill-color: white;
  animation: none;
}


/* ==========================================================================
   Utilities & Animations
   ========================================================================== */

/* Fade In Animation Class */
.fade-in {
  animation: fadeIn 0.3s ease forwards;
  /* Apply fadeIn animation */
}

/* Version Info Animation Styles */
#version-info {

  /* Keyframes defined in the Keyframes section */
  .music-note {
    position: absolute;
    /* Position music notes absolutely */
    font-size: 24px;
    /* Font size for music notes */
    pointer-events: none;
    /* Ensure notes don't interfere with clicks */
    animation: float 3s infinite, twinkle 3s infinite;
    /* Apply animations infinitely */
  }
}

/* Background Animation Styles */
.background-animation {
  position: fixed;
  /* Fixed position covering viewport */
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  z-index: -1;
  /* Ensure it's behind all content */
  opacity: 0.5;
  /* Opacity for background animation */
  background: linear-gradient(45deg, #ff9a9e, #fad0c4, #a18cd1, #fbc2eb);
  /* Gradient colors */
  background-size: 400% 400%;
  /* Size for gradient animation effect */
  animation: gradientAnimation 15s ease infinite;
  /* Apply gradient animation infinitely */
  transition: opacity 0.5s ease;
  /* Smooth opacity transition */
}

.background-animation.hidden {
  opacity: 0;
  /* Hide background animation by making it transparent */
}


/* ==========================================================================
   Keyframes
   ========================================================================== */

@keyframes pulse {
  0% {
    transform: scale(1);
    opacity: 1;
  }

  /* Added opacity for skeleton */
  50% {
    transform: scale(1.1);
    opacity: 0.5;
  }

  /* Scale up slightly & fade skeleton */
  100% {
    transform: scale(1);
    opacity: 1;
  }

  /* Return to initial scale & opacity */
}

@keyframes shimmer {
  0% {
    background-position: -200% 0;
  }

  /* Start position for shimmer */
  100% {
    background-position: 200% 0;
  }

  /* End position for shimmer, creating animation */
}

@keyframes marquee {
  0% {
    transform: translateX(0);
  }

  /* Start position */
  100% {
    transform: translateX(-100%);
  }

  /* End position (scrolls to left) */
}

/* Background Animation for Lyrics */
@keyframes backgroundFlow {
  0% {
    background-position: 0% 50%;
    box-shadow: 0 25px 60px rgba(0, 0, 0, 0.5), inset 0 0 30px rgba(255, 255, 255, 0.05);
  }

  50% {
    background-position: 100% 50%;
    box-shadow: 0 30px 70px rgba(0, 0, 0, 0.6), inset 0 0 40px rgba(255, 255, 255, 0.08);
  }

  100% {
    background-position: 0% 50%;
    box-shadow: 0 25px 60px rgba(0, 0, 0, 0.5), inset 0 0 30px rgba(255, 255, 255, 0.05);
  }
}

/* Subtle glow animation for the lyrics container */
@keyframes subtleGlow {

  0%,
  100% {
    box-shadow: 0 20px 50px rgba(0, 0, 0, 0.4), inset 0 0 20px rgba(255, 255, 255, 0.1);
  }

  50% {
    box-shadow: 0 25px 60px rgba(0, 0, 0, 0.5), inset 0 0 25px rgba(255, 255, 255, 0.15);
  }
}

@keyframes fadeIn {
  from {
    opacity: 0;
    transform: translateY(10px);
  }

  /* Start state (transparent and slightly down) */
  to {
    opacity: 1;
    transform: translateY(0);
  }

  /* End state (fully opaque and original position) */
}

/* From #version-info */
@keyframes float {

  0%,
  100% {
    transform: translateY(0) rotate(0deg);
  }

  /* Start and end state */
  50% {
    transform: translateY(-20px) rotate(10deg);
  }

  /* Mid state (moves up and rotates) */
}

@keyframes twinkle {

  0%,
  100% {
    opacity: 0;
  }

  /* Start and end state (transparent) */
  50% {
    opacity: 1;
  }

  /* Mid state (opaque) */
}

/* From Session Popup */
@keyframes popupIn {
  from {
    transform: translate(-50%, -60%);
    /* Start position (slightly above center) */
    opacity: 0;
    /* Initially transparent */
  }

  to {
    transform: translate(-50%, -50%);
    /* End position (centered) */
    opacity: 1;
    /* Fully opaque */
  }
}

/* From Background Animation */
@keyframes gradientAnimation {
  0% {
    background-position: 0% 50%;
    /* Start position */
  }

  50% {
    background-position: 100% 50%;
    /* Mid position (shifts gradient) */
  }

  100% {
    background-position: 0% 50%;
    /* End position (returns to start) */
  }
}

/* From Icon Styles */
@keyframes musicFlow {
  0% {
    background-position: 0% 50%;
  }

  50% {
    background-position: 100% 50%;
  }

  100% {
    background-position: 0% 50%;
  }
}

/* From HTTP Warning */
@keyframes slideIn {
  from {
    transform: translateY(-100%);
    opacity: 0;
  }

  to {
    transform: translateY(0);
    opacity: 1;
  }
}

@keyframes rotateGlow {
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
}


/* ==========================================================================
   Media Queries (Responsive Design)
   ========================================================================== */

/* Mobile Responsiveness Media Queries */
/* Adjustments for smaller screens, typically mobile devices */
@media (max-width: 768px) {
  .container {
    padding: 1rem;
    /* Reduced padding on smaller screens */
    padding-bottom: 5rem;
    /* Keep bottom padding for mini player */
  }

  .search-container {
    /* padding: 0 0.5rem; */
    /* Original rule commented out? Keeping it commented. */
  }

  .volume-control {
    display: none;
    /* Hide volume control on mobile */
  }

  .full-player-art {
    max-width: 300px;
    /* Reduce max width of art on mobile */
  }

  .full-player-title {
    font-size: 1.5rem;
    /* Reduce title font size on mobile */
  }

  /* Artist Info specific mobile adjustments */
  .artist-info-container {
    flex-direction: column;
    /* Stack artist info vertically on mobile */
    align-items: center;
    /* Center align artist info on mobile */
    text-align: center;
    /* Center text alignment in artist info on mobile */
    padding: 1.5rem;
    /* Reduced padding for artist info on mobile */
  }

  /* Lyrics specific mobile adjustments */
  .lyrics-container {
    padding: 2rem;
    /* Reverts earlier reduction? Keeping latest rule */
    max-width: 90%;
    border-radius: 20px;
    min-height: 60%;
    /* Smaller minimum height on mobile */
  }

  .lyrics-line {
    font-size: 1.5rem;
    /* Smaller font on mobile */
    padding: 1rem 1.5rem;
    /* Adjusted padding - LATEST rule */
    line-height: 2;
    /* Slightly reduced line height - LATEST rule */
  }

  /* Mobile-specific progress bar enhancements */
  .progress-bar {
    height: 14px;
    /* Even bigger on mobile for touch - From first definition */
    /* Second definition: height: 10px; - Keeping LATEST rule */
    height: 10px;
    /* Bigger by default on mobile */
  }

  .progress-container:active .progress-bar {
    height: 14px;
    /* Bigger when touching */
  }

  .progress-container {
    padding: 1.25rem 0;
    /* Even more padding on mobile for easier touch */
  }

  /* Larger touch target on mobile */
  .progress-hover {
    top: -15px;
    height: calc(100% + 30px);
  }

  /* Integration Modal mobile adjustments */
  .integration-container {
    padding: 1rem;
    /* Reduced padding on mobile */
  }

  .size-buttons,
  .theme-buttons {
    flex-wrap: wrap;
    /* Wrap buttons on mobile */
  }

  .code-block {
    font-size: 0.8rem;
    /* Reduced font size for code on mobile */
  }

  /* Artist Overview mobile adjustments */
  .artist-overview-container {
    padding: 1.5rem;
    /* Reduced padding on mobile */
  }

  .artist-stats {
    /* Targeting overview stats */
    grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
    /* Adjusted column width on mobile */
  }

  .stat-card {
    /* Targeting overview stats card */
    padding: 1rem;
    /* Reduced padding on mobile stat card */
  }

  /* Insights Modal mobile adjustments */
  .insights-content {
    padding: 1rem;
    /* Reduced padding on mobile */
  }

  .insights-modal .stats-grid {
    /* Stats grid adjustments on mobile */
    grid-template-columns: repeat(2, 1fr);
    /* Two columns on mobile */
  }

  .completion-stats {
    grid-template-columns: 1fr;
    /* Single column on mobile */
  }

  .completion-chart {
    height: 250px;
    /* Reduced chart height on mobile */
  }

  .patterns-container {
    grid-template-columns: 1fr;
    /* Single column on mobile */
    gap: 1rem;
    /* Reduced gap on mobile */
  }

}

/* End @media (max-width: 768px) */



/* Custom Scrollbar for WebKit Browsers (Chrome, Safari, Edge) */
*::-webkit-scrollbar {
  width: 12px;
  /* Width of the vertical scrollbar */
  height: 12px;
  /* Height of the horizontal scrollbar */
}

*::-webkit-scrollbar-track {
  background: var(--surface-color);
  /* Darker surface color for track */
  border-radius: 10px;
  /* Rounded corners for a smooth look */
}

*::-webkit-scrollbar-thumb {
  background: var(--accent-gradient);
  /* Gradient from indigo to light blue */
  border-radius: 10px;
  /* Rounded thumb for elegance */
  border: 2px solid var(--background-color);
  /* Navy border to blend with background */
  box-shadow: 0 0 5px rgba(79, 70, 229, 0.5);
  /* Subtle glow effect */
  transition: background 0.3s ease, box-shadow 0.3s ease;
  /* Smooth hover transitions */
}

*::-webkit-scrollbar-thumb:hover {
  background: linear-gradient(135deg, #818cf8, #4f46e5);
  /* Inverted gradient on hover */
  box-shadow: 0 0 10px rgba(79, 70, 229, 0.8);
  /* Enhanced glow on hover */
}

*::-webkit-scrollbar-button {
  display: none;
  /* Hide scrollbar buttons for a minimalist design */
}

/* Custom Scrollbar for Firefox */
* {
  scrollbar-width: thin;
  /* Sleek, thin scrollbar */
  scrollbar-color: var(--primary-light) var(--surface-color);
  /* Light blue thumb, dark track */
}


/* What's New Modal - Base Container */
.whats-new-modal {
  display: none;
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background-color: rgba(0, 0, 0, 0.75);
  backdrop-filter: blur(8px);
  z-index: 1050;
  overflow: auto;
  animation: fadeIn 0.4s ease-out;
}

/* Modal Content Container */
.whats-new-modal .modal-content {
  position: relative;
  width: 90%;
  max-width: 650px;
  margin: 50px auto;
  background: linear-gradient(135deg, #2a2a3a, #1a1a2a);
  border-radius: 24px;
  padding: 0;
  box-shadow: 0 15px 50px rgba(0, 0, 0, 0.3),
    0 0 0 1px rgba(255, 255, 255, 0.1),
    0 0 30px rgba(125, 100, 255, 0.2);
  overflow: hidden;
  transform: translateY(20px);
  animation: slideUp 0.5s 0.1s ease-out forwards;
  border: 1px solid rgba(255, 255, 255, 0.1);
}

/* Modal Header */
.whats-new-modal .modal-header {
  position: relative;
  padding: 24px 32px;
  background: linear-gradient(90deg, #5d4de1, #7e67ff);
  border-bottom: none;
}

/* Header Bottom Border Effect */
.whats-new-modal .modal-header::after {
  content: "";
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
  height: 6px;
  background: linear-gradient(90deg, #8d67ff, #4d41e1);
  opacity: 0.6;
}

/* Modal Title */
.whats-new-modal #whatsNewModalTitle {
  color: white;
  font-size: 1.8rem;
  font-weight: 700;
  margin: 0;
  text-align: center;
  text-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
  letter-spacing: 0.5px;
}

/* Close Button */
.whats-new-modal .close-button {
  position: absolute;
  top: 18px;
  right: 18px;
  background: rgba(255, 255, 255, 0.2);
  border: none;
  border-radius: 50%;
  width: 36px;
  height: 36px;
  display: flex;
  align-items: center;
  justify-content: center;
  color: white;
  cursor: pointer;
  transition: all 0.2s ease;
}

.whats-new-modal .close-button:hover {
  background: rgba(255, 255, 255, 0.3);
  transform: rotate(90deg);
}

/* Modal Body with Improved Overflow */
.whats-new-modal .modal-body {
  padding: 32px;
  max-height: 70vh;
  overflow-y: auto;
  overflow-x: auto;
  /* Allow horizontal scroll when needed */
}

/* Markdown Content */
.whats-new-modal .markdown-body {
  color: #e0e0e0;
  font-size: 1.1rem;
  line-height: 1.6;
  word-wrap: break-word;
  /* Ensure text wraps properly */
}

/* Code blocks within markdown */
.whats-new-modal .markdown-body pre {
  overflow-x: auto;
  /* Allow horizontal scrolling for code */
  max-width: 100%;
  background: rgba(0, 0, 0, 0.2);
  border-radius: 8px;
  padding: 12px;
}

.whats-new-modal .markdown-body code {
  font-family: monospace;
  background: rgba(0, 0, 0, 0.2);
  padding: 2px 4px;
  border-radius: 4px;
}

/* Tables within markdown */
.whats-new-modal .markdown-body table {
  display: block;
  width: 100%;
  overflow-x: auto;
  border-collapse: collapse;
}

.whats-new-modal .markdown-body th,
.whats-new-modal .markdown-body td {
  border: 1px solid rgba(255, 255, 255, 0.1);
  padding: 8px 12px;
}

/* Skeleton Loading Animation */
.skeleton-loading {
  background: linear-gradient(90deg, #2a2a3a 25%, #343450 50%, #2a2a3a 75%);
  background-size: 200% 100%;
  animation: skeletonLoading 1.5s infinite;
  border-radius: 12px;
}

/* Media Content */
.whats-new-modal .markdown-body img {
  max-width: 100%;
  height: auto;
  border-radius: 8px;
  margin: 16px 0;
}

/* Animation Keyframes */
@keyframes fadeIn {
  from {
    opacity: 0;
  }

  to {
    opacity: 1;
  }
}

@keyframes slideUp {
  from {
    transform: translateY(30px);
    opacity: 0;
  }

  to {
    transform: translateY(0);
    opacity: 1;
  }
}

@keyframes skeletonLoading {
  0% {
    background-position: -100% 0;
  }

  100% {
    background-position: 100% 0;
  }
}

/* Responsive Adjustments */
@media (max-width: 768px) {
  .whats-new-modal .modal-content {
    width: 95%;
    margin: 30px auto;
  }

  .whats-new-modal .modal-header {
    padding: 20px;
  }

  .whats-new-modal #whatsNewModalTitle {
    font-size: 1.5rem;
  }

  .whats-new-modal .modal-body {
    padding: 20px;
    max-height: 60vh;
    /* Smaller height on mobile */
  }
}


/* === Add this CSS rule === */
/* Increase the width of the progress bar in the full player */
#fullPlayer #fullProgressContainer {
  width: 80%;
  /* Make the progress container take 80% of the available width */
  max-width: none !important;
  /* Remove any previous max-width limit that might conflict */
  /* Centering is automatically handled by the parent (.full-player-info) flex container */
}

/* ======================== */